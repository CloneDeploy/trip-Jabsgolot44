import{b7 as H,b8 as x,b9 as T,ba as P,bb as L,bc as V,q as C,H as j,bd as D,af as E,be as I}from"./index-BmRns9_D.js";const q=H("booking",{state:()=>({valid:null,userdata:null,summary:{set:!1},errors:null,loading:!1,bussy:!0,mobile:window.innerWidth<992,home:null,dates:[],booking:null}),getters:{getPaid:e=>e.booking.paid||!1,getMobile:e=>e.mobile,getLoading:e=>e.loading,getBussy:e=>e.bussy,getBooking:e=>e.booking||null,getHome:e=>e.home||null,homeId:e=>e.home.id||null},actions:{setBussy(e){this.bussy=e},setLoading(e){this.loading=e},setValid(e){this.valid=e},async setBookingPaid(e){return new Promise(async(u,o)=>{this.booking.code?(await x(T(P,this.booking.code),{paid:e},{merge:!0}),u(!0)):o(!1)})},async updateBooking(e){return new Promise(async(u,o)=>{this.booking.code?(await x(T(P,this.booking.code),{plisio:e},{merge:!0}),u(!0)):o(!1)})},async fetchBooking(e){return this.summary.set=!1,this.setLoading(!0),this.setBussy(!0),new Promise(async(u,o)=>{const d=await L(e);if(d!==null){this.booking=d,"paid"in this.booking||(this.booking.paid=!1);const l=this.booking.home.id.toString(),i=await V(l);if(i!==null){const m=C(),{pickertype:c}=m;this.setValid(!0);const r=j(this.booking.stay.checkin.parsed),t=j(this.booking.stay.checkout.parsed);this.home=i;const s={nights:t.diff(r,"days"),months:t.diff(r,"months"),weeks:t.diff(r,"weeks"),years:t.diff(r,"years")},a=D(s,this.home,c);Object.assign(this.summary,a),u(!0)}}else this.setValid(!1),o(!1)})}}});var S={exports:{}};(function(e,u){(function(o,d){e.exports=d()})(E,function(){return function(o,d,l){o=o||{};var i=d.prototype,m={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(t,s,a,b){return i.fromToBase(t,s,a,b)}l.en.relativeTime=m,i.fromToBase=function(t,s,a,b,M){for(var y,g,k,p=a.$locale().relativeTime||m,w=o.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],F=w.length,f=0;f<F;f+=1){var n=w[f];n.d&&(y=b?l(t).diff(a,n.d,!0):a.diff(t,n.d,!0));var h=(o.rounding||Math.round)(Math.abs(y));if(k=y>0,h<=n.r||!n.r){h<=1&&f>0&&(n=w[f-1]);var v=p[n.l];M&&(h=M(""+h)),g=typeof v=="string"?v.replace("%d",h):v(h,s,n.l,k);break}}if(s)return g;var B=k?p.future:p.past;return typeof B=="function"?B(g):B.replace("%s",g)},i.to=function(t,s){return c(t,s,this,!0)},i.from=function(t,s){return c(t,s,this)};var r=function(t){return t.$u?l.utc():l()};i.toNow=function(t){return this.to(r(this),t)},i.fromNow=function(t){return this.from(r(this),t)}}})})(S);var N=S.exports;const G=I(N);export{G as r,q as u};
